<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Social Cockpit</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="brand-dot"></div>
      <div class="brand-text">
        <div class="brand-title">Social Cockpit</div>
        <div class="brand-subtitle">Local tools • single page</div>
      </div>
    </div>

    <nav class="tabs" aria-label="Top Navigation Tabs">
      <button class="tab active" data-tab="substack" type="button">Substack Generator</button>
      <button class="tab" data-tab="placeholder" type="button">Placeholder</button>
    </nav>
  </header>

  <main class="container">
    <!-- Panel: Substack Generator (NOT nested inside another panel) -->
    <section class="panel active" id="panel-substack" data-panel="substack">
      <div class="panel-header">
        <h1>Substack Generator</h1>
        <p class="muted">Dump notes into blocks, assign sections, then generate clean copy per section.</p>
      </div>

      <div class="grid two">
        <div class="card">
          <div class="card-title">Issue / Topic</div>
          <input id="ssIssue" type="text" placeholder="e.g., Jan 20 walkout, ICE violence, local action plan" />
          <div class="row">
            <div class="field">
              <label for="ssTone">Tone</label>
              <select id="ssTone">
                <option value="firm">firm</option>
                <option value="urgent">urgent</option>
                <option value="hopeful">hopeful</option>
                <option value="angry_safe">angry_safe</option>
              </select>
            </div>
            <div class="field">
              <label for="ssLength">Length</label>
              <select id="ssLength">
                <option value="short">short</option>
                <option value="medium" selected>medium</option>
                <option value="long">long</option>
              </select>
            </div>
          </div>

          <div class="row wrap">
            <button id="ssAddBlock" class="btn" type="button">+ Add another block</button>
            <button id="ssGenerate" class="btn primary" type="button">Generate sections (AI)</button>
            <button id="ssGenTitle" class="btn" type="button">Generate subject/title</button>
            <button id="ssCopyAll" class="btn" type="button">Copy all</button>
          </div>

          <div id="ssStatus" class="status">Ready.</div>
        </div>

        <div class="card">
          <div class="card-title">How it works</div>
          <ul class="bullets">
            <li>Add blocks of raw info (links + notes).</li>
            <li>Assign each block to a newsletter section.</li>
            <li>Generate → one AI call per section.</li>
            <li>Outputs are plain text for copy/paste.</li>
          </ul>
          <div class="hint">
            Safety rules are enforced in the system prompt: factual, no invented claims, no hate, no calls for violence.
          </div>
        </div>
      </div>

      <div class="split">
        <div class="col">
          <div class="section-title">Blocks</div>
          <div id="ssBlocks" class="stack"></div>
        </div>

        <div class="col">
          <div class="section-title">Outputs</div>
          <div id="ssOutput" class="stack"></div>

          <div class="section-title" style="margin-top: 16px;">Subject / Title options</div>
          <div class="card">
            <div class="row space">
              <div class="muted">Numbered list only (6 options).</div>
              <button id="ssCopyTitle" class="btn small" type="button">Copy</button>
            </div>
            <textarea id="ssTitleOutput" rows="8" placeholder="Click “Generate subject/title” to create options..."></textarea>
          </div>
        </div>
      </div>
    </section>

    <!-- Panel: Placeholder -->
    <section class="panel" id="panel-placeholder" data-panel="placeholder">
      <div class="panel-header">
        <h1>Placeholder</h1>
        <p class="muted">This tab exists only to prove the tab/panel system. No features here.</p>
      </div>
      <div class="card">
        <div class="card-title">Coming later</div>
        <p class="muted">Nothing to see yet.</p>
      </div>
    </section>
  </main>

  <script src="/static/app.js"></script>
</body>
</html>
